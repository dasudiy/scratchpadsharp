<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:avaloniaEdit="https://github.com/avaloniaui/avaloniaedit"
        x:Class="ScratchpadSharp.Views.MainWindow"
        Title="ScratchpadSharp"
        Width="1200"
        Height="800"
        WindowStartupLocation="CenterScreen">

    <Window.KeyBindings>
        <KeyBinding Gesture="Ctrl+N" Command="{Binding NewCommand}" />
        <KeyBinding Gesture="Ctrl+O" Command="{Binding OpenCommand}" />
        <KeyBinding Gesture="Ctrl+S" Command="{Binding SaveCommand}" />
        <KeyBinding Gesture="Ctrl+Shift+S" Command="{Binding SaveAsCommand}" />
        <KeyBinding Gesture="F5" Command="{Binding ExecuteCommand}" />
        <KeyBinding Gesture="Shift+F5" Command="{Binding CancelCommand}" />
    </Window.KeyBindings>

    <DockPanel LastChildFill="True">
        <!-- Menu -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="File" FontSize="24">
                <MenuItem Header="New" Command="{Binding NewCommand}" InputGesture="Ctrl+N" />
                <MenuItem Header="Open" Command="{Binding OpenCommand}" InputGesture="Ctrl+O" />
                <MenuItem Header="Save" Command="{Binding SaveCommand}" InputGesture="Ctrl+S" />
                <MenuItem Header="Save As..." Command="{Binding SaveAsCommand}" InputGesture="Ctrl+Shift+S" />
                <Separator />
                <MenuItem Header="Exit" Command="{Binding ExitCommand}" />
            </MenuItem>
            <MenuItem Header="Run" FontSize="24">
                <MenuItem Header="Execute Script" Command="{Binding ExecuteCommand}" InputGesture="F5" />
                <MenuItem Header="Cancel" Command="{Binding CancelCommand}" InputGesture="Shift+F5" />
            </MenuItem>
        </Menu>

        <!-- Status Bar -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" Height="24" Background="#F0F0F0">
            <TextBlock Text="Ready" Foreground="#666666" Margin="8,4" />
            <TextBlock Margin="8,4,0,4" Text="{Binding StatusText}" Foreground="#666666" />
        </StackPanel>

        <!-- Main Content -->
        <Grid RowDefinitions="*, Auto, 2*" Background="White">
            <!-- Code Editor -->
            <avaloniaEdit:TextEditor Grid.Row="0"
                                     Name="CodeEditor"
                                     FontFamily="JetBrains Mono, Cascadia Code, DejaVu Sans Mono, monospace"
                                     FontSize="36"
                                     FontWeight="Medium"
                                     ShowLineNumbers="True"
                                     WordWrap="False"
                                     Background="#1E1E1E"
                                     Foreground="#D4D4D4"
                                     LineNumbersForeground="#858585"
                                     IsReadOnly="False"
                                     MinHeight="200"
                                     IsVisible="True"
                                     IsEnabled="True"
                                     Focusable="True"
                                     HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch" />

            <!-- Splitter -->
            <GridSplitter Grid.Row="1" Height="4" Background="#CCCCCC" />

            <!-- Results Panel -->
            <Border Grid.Row="2" Background="#1E1E1E" BorderBrush="#CCCCCC" BorderThickness="0,1,0,0">
                <Grid RowDefinitions="Auto, *">
                    <TextBlock Grid.Row="0"
                               Text="Output"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="#D4D4D4"
                               Padding="8,4" />
                    <ScrollViewer Grid.Row="1">
                        <SelectableTextBlock Text="{Binding Output}"
                                           FontFamily="Cascadia Code, Consolas, monospace"
                                           FontSize="24"
                                           Foreground="#D4D4D4"
                                           Padding="8,4"
                                           TextWrapping="Wrap" />
                    </ScrollViewer>
                </Grid>
            </Border>
        </Grid>
    </DockPanel>

</Window>
